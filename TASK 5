# TASK 5.1
# Import libraries
import pandas as pd
import plotly.express as px

# Load dataset (uploaded file)
from google.colab import files
uploaded = files.upload()   # Choose 'country_wise_latest.csv'

# Read dataset
df = pd.read_csv("country_wise_latest.csv")
print(df.head())

# ----- Prepare sample hierarchy for TreeMap & Sunburst -----
# Here I will assume:
# Region  -> WHO Region (if exists)
# Category -> Status of COVID (Active/Recovered/Deaths)
# Subcategory -> Country
# Revenue -> Values (Confirmed cases, Active, Recovered, etc.)

# First melt dataset to long format for categories
df_melted = df.melt(
    id_vars=["Country/Region"],
    value_vars=["Confirmed", "Deaths", "Recovered", "Active"],
    var_name="Category",
    value_name="Count"
)

# Add region column if available (else dummy region)
if "WHO Region" in df.columns:
    df_melted["Region"] = df["WHO Region"].repeat(4).values
